"use strict";(globalThis.webpackChunkkubepolaris_docs=globalThis.webpackChunkkubepolaris_docs||[]).push([[836],{4410(e,n,l){l.r(n),l.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"api/workloads","title":"\u5de5\u4f5c\u8d1f\u8f7d API","description":"\u83b7\u53d6\u5de5\u4f5c\u8d1f\u8f7d\u5217\u8868","source":"@site/docs/api/workloads.md","sourceDirName":"api","slug":"/api/workloads","permalink":"/docs/api/workloads","draft":false,"unlisted":false,"editUrl":"https://github.com/clay-wangzhi/KubePolaris/tree/main/website/docs/api/workloads.md","tags":[],"version":"current","lastUpdatedBy":"clay-wangzhi","lastUpdatedAt":1768448024000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"\u96c6\u7fa4 API","permalink":"/docs/api/clusters"},"next":{"title":"Pod API","permalink":"/docs/api/pods"}}');var d=l(4848),i=l(8453);const a={sidebar_position:4},c="\u5de5\u4f5c\u8d1f\u8f7d API",r={},t=[{value:"\u83b7\u53d6\u5de5\u4f5c\u8d1f\u8f7d\u5217\u8868",id:"\u83b7\u53d6\u5de5\u4f5c\u8d1f\u8f7d\u5217\u8868",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42",level:3},{value:"\u67e5\u8be2\u53c2\u6570",id:"\u67e5\u8be2\u53c2\u6570",level:3},{value:"\u54cd\u5e94",id:"\u54cd\u5e94",level:3},{value:"\u83b7\u53d6 Deployment \u8be6\u60c5",id:"\u83b7\u53d6-deployment-\u8be6\u60c5",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-1",level:3},{value:"\u54cd\u5e94",id:"\u54cd\u5e94-1",level:3},{value:"\u521b\u5efa Deployment",id:"\u521b\u5efa-deployment",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-2",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:3},{value:"\u66f4\u65b0 Deployment",id:"\u66f4\u65b0-deployment",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-3",level:3},{value:"\u4f7f\u7528 YAML \u66f4\u65b0",id:"\u4f7f\u7528-yaml-\u66f4\u65b0",level:3},{value:"\u5220\u9664 Deployment",id:"\u5220\u9664-deployment",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-4",level:3},{value:"\u6269\u7f29\u5bb9",id:"\u6269\u7f29\u5bb9",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-5",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-1",level:3},{value:"\u54cd\u5e94",id:"\u54cd\u5e94-2",level:3},{value:"\u91cd\u542f",id:"\u91cd\u542f",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-6",level:3},{value:"\u54cd\u5e94",id:"\u54cd\u5e94-3",level:3},{value:"\u56de\u6eda",id:"\u56de\u6eda",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-7",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-2",level:3},{value:"\u83b7\u53d6\u4fee\u8ba2\u5386\u53f2",id:"\u83b7\u53d6\u4fee\u8ba2\u5386\u53f2",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-8",level:3},{value:"\u54cd\u5e94",id:"\u54cd\u5e94-4",level:3},{value:"\u66f4\u65b0\u955c\u50cf",id:"\u66f4\u65b0\u955c\u50cf",level:2},{value:"\u8bf7\u6c42",id:"\u8bf7\u6c42-9",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-3",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"\u5de5\u4f5c\u8d1f\u8f7d-api",children:"\u5de5\u4f5c\u8d1f\u8f7d API"})}),"\n",(0,d.jsx)(n.h2,{id:"\u83b7\u53d6\u5de5\u4f5c\u8d1f\u8f7d\u5217\u8868",children:"\u83b7\u53d6\u5de5\u4f5c\u8d1f\u8f7d\u5217\u8868"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"GET /api/clusters/:clusterId/workloads\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u67e5\u8be2\u53c2\u6570",children:"\u67e5\u8be2\u53c2\u6570"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u53c2\u6570"}),(0,d.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"namespace"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"\u547d\u540d\u7a7a\u95f4"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"type"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"\u7c7b\u578b: deployment/statefulset/daemonset"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"page"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"\u9875\u7801"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"pageSize"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"\u6bcf\u9875\u6570\u91cf"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"search"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"\u641c\u7d22\u5173\u952e\u5b57"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u54cd\u5e94",children:"\u54cd\u5e94"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "code": 200,\n  "data": {\n    "items": [\n      {\n        "name": "nginx",\n        "namespace": "default",\n        "type": "deployment",\n        "replicas": 3,\n        "readyReplicas": 3,\n        "images": ["nginx:1.21"],\n        "createdAt": "2026-01-01T00:00:00Z"\n      }\n    ],\n    "total": 1\n  }\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u83b7\u53d6-deployment-\u8be6\u60c5",children:"\u83b7\u53d6 Deployment \u8be6\u60c5"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-1",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"GET /api/clusters/:clusterId/namespaces/:namespace/deployments/:name\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u54cd\u5e94-1",children:"\u54cd\u5e94"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "code": 200,\n  "data": {\n    "name": "nginx",\n    "namespace": "default",\n    "labels": {\n      "app": "nginx"\n    },\n    "annotations": {},\n    "replicas": 3,\n    "readyReplicas": 3,\n    "availableReplicas": 3,\n    "strategy": {\n      "type": "RollingUpdate",\n      "rollingUpdate": {\n        "maxSurge": "25%",\n        "maxUnavailable": "25%"\n      }\n    },\n    "containers": [\n      {\n        "name": "nginx",\n        "image": "nginx:1.21",\n        "ports": [{"containerPort": 80}],\n        "resources": {\n          "limits": {"cpu": "500m", "memory": "512Mi"},\n          "requests": {"cpu": "100m", "memory": "128Mi"}\n        }\n      }\n    ],\n    "conditions": [\n      {\n        "type": "Available",\n        "status": "True",\n        "reason": "MinimumReplicasAvailable"\n      }\n    ],\n    "createdAt": "2026-01-01T00:00:00Z",\n    "updatedAt": "2026-01-07T10:00:00Z"\n  }\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u521b\u5efa-deployment",children:"\u521b\u5efa Deployment"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-2",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"POST /api/clusters/:clusterId/namespaces/:namespace/deployments\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "name": "nginx",\n  "replicas": 3,\n  "labels": {\n    "app": "nginx"\n  },\n  "containers": [\n    {\n      "name": "nginx",\n      "image": "nginx:1.21",\n      "ports": [{"containerPort": 80}],\n      "resources": {\n        "limits": {"cpu": "500m", "memory": "512Mi"},\n        "requests": {"cpu": "100m", "memory": "128Mi"}\n      }\n    }\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u66f4\u65b0-deployment",children:"\u66f4\u65b0 Deployment"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-3",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"PUT /api/clusters/:clusterId/namespaces/:namespace/deployments/:name\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u4f7f\u7528-yaml-\u66f4\u65b0",children:"\u4f7f\u7528 YAML \u66f4\u65b0"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"PUT /api/clusters/:clusterId/namespaces/:namespace/deployments/:name/yaml\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5220\u9664-deployment",children:"\u5220\u9664 Deployment"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-4",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"DELETE /api/clusters/:clusterId/namespaces/:namespace/deployments/:name\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6269\u7f29\u5bb9",children:"\u6269\u7f29\u5bb9"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-5",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"POST /api/clusters/:clusterId/namespaces/:namespace/deployments/:name/scale\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u53c2\u6570-1",children:"\u53c2\u6570"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "replicas": 5\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u54cd\u5e94-2",children:"\u54cd\u5e94"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "code": 200,\n  "message": "Scaled successfully",\n  "data": {\n    "replicas": 5\n  }\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u91cd\u542f",children:"\u91cd\u542f"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-6",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"POST /api/clusters/:clusterId/namespaces/:namespace/deployments/:name/restart\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u54cd\u5e94-3",children:"\u54cd\u5e94"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "code": 200,\n  "message": "Restart initiated",\n  "data": null\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u56de\u6eda",children:"\u56de\u6eda"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-7",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"POST /api/clusters/:clusterId/namespaces/:namespace/deployments/:name/rollback\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u53c2\u6570-2",children:"\u53c2\u6570"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "revision": 2\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u83b7\u53d6\u4fee\u8ba2\u5386\u53f2",children:"\u83b7\u53d6\u4fee\u8ba2\u5386\u53f2"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-8",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"GET /api/clusters/:clusterId/namespaces/:namespace/deployments/:name/revisions\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u54cd\u5e94-4",children:"\u54cd\u5e94"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "code": 200,\n  "data": [\n    {\n      "revision": 3,\n      "createdAt": "2026-01-07T10:00:00Z",\n      "changeCause": "kubectl set image"\n    },\n    {\n      "revision": 2,\n      "createdAt": "2026-01-06T10:00:00Z",\n      "changeCause": "kubectl apply"\n    }\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u66f4\u65b0\u955c\u50cf",children:"\u66f4\u65b0\u955c\u50cf"}),"\n",(0,d.jsx)(n.h3,{id:"\u8bf7\u6c42-9",children:"\u8bf7\u6c42"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"POST /api/clusters/:clusterId/namespaces/:namespace/deployments/:name/image\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u53c2\u6570-3",children:"\u53c2\u6570"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "container": "nginx",\n  "image": "nginx:1.22"\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453(e,n,l){l.d(n,{R:()=>a,x:()=>c});var s=l(6540);const d={},i=s.createContext(d);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);