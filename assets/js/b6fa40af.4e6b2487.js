"use strict";(globalThis.webpackChunkkubepolaris_docs=globalThis.webpackChunkkubepolaris_docs||[]).push([[741],{716(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"admin-guide/high-availability","title":"\u9ad8\u53ef\u7528\u90e8\u7f72","description":"\u672c\u6587\u6863\u4ecb\u7ecd\u5982\u4f55\u90e8\u7f72\u9ad8\u53ef\u7528\u7684 KubePolaris \u96c6\u7fa4\u3002","source":"@site/docs/admin-guide/high-availability.md","sourceDirName":"admin-guide","slug":"/admin-guide/high-availability","permalink":"/docs/admin-guide/high-availability","draft":false,"unlisted":false,"editUrl":"https://github.com/clay-wangzhi/KubePolaris/tree/main/website/docs/admin-guide/high-availability.md","tags":[],"version":"current","lastUpdatedBy":"clay-wangzhi","lastUpdatedAt":1768448024000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"\u90e8\u7f72\u6307\u5357","permalink":"/docs/admin-guide/deployment"},"next":{"title":"\u5b89\u5168\u52a0\u56fa","permalink":"/docs/admin-guide/security"}}');var l=s(4848),r=s(8453);const t={sidebar_position:2},a="\u9ad8\u53ef\u7528\u90e8\u7f72",d={},c=[{value:"\u67b6\u6784\u8bbe\u8ba1",id:"\u67b6\u6784\u8bbe\u8ba1",level:2},{value:"\u9ad8\u53ef\u7528\u7ec4\u4ef6",id:"\u9ad8\u53ef\u7528\u7ec4\u4ef6",level:3},{value:"\u63a8\u8350\u914d\u7f6e",id:"\u63a8\u8350\u914d\u7f6e",level:3},{value:"Kubernetes \u90e8\u7f72",id:"kubernetes-\u90e8\u7f72",level:2},{value:"values.yaml \u914d\u7f6e",id:"valuesyaml-\u914d\u7f6e",level:3},{value:"\u90e8\u7f72\u547d\u4ee4",id:"\u90e8\u7f72\u547d\u4ee4",level:3},{value:"\u6570\u636e\u5e93\u9ad8\u53ef\u7528",id:"\u6570\u636e\u5e93\u9ad8\u53ef\u7528",level:2},{value:"\u4e91\u6570\u636e\u5e93",id:"\u4e91\u6570\u636e\u5e93",level:3},{value:"\u81ea\u5efa MySQL HA",id:"\u81ea\u5efa-mysql-ha",level:3},{value:"\u8fde\u63a5\u6c60\u914d\u7f6e",id:"\u8fde\u63a5\u6c60\u914d\u7f6e",level:3},{value:"\u8d1f\u8f7d\u5747\u8861",id:"\u8d1f\u8f7d\u5747\u8861",level:2},{value:"Kubernetes Ingress",id:"kubernetes-ingress",level:3},{value:"\u5916\u90e8\u8d1f\u8f7d\u5747\u8861",id:"\u5916\u90e8\u8d1f\u8f7d\u5747\u8861",level:3},{value:"\u4f1a\u8bdd\u7ba1\u7406",id:"\u4f1a\u8bdd\u7ba1\u7406",level:2},{value:"WebSocket \u4f1a\u8bdd",id:"websocket-\u4f1a\u8bdd",level:3},{value:"JWT Token",id:"jwt-token",level:3},{value:"\u5065\u5eb7\u68c0\u67e5",id:"\u5065\u5eb7\u68c0\u67e5",level:2},{value:"Kubernetes \u63a2\u9488",id:"kubernetes-\u63a2\u9488",level:3},{value:"\u5065\u5eb7\u68c0\u67e5\u7aef\u70b9",id:"\u5065\u5eb7\u68c0\u67e5\u7aef\u70b9",level:3},{value:"\u76d1\u63a7\u544a\u8b66",id:"\u76d1\u63a7\u544a\u8b66",level:2},{value:"\u5173\u952e\u6307\u6807",id:"\u5173\u952e\u6307\u6807",level:3},{value:"Prometheus \u544a\u8b66\u89c4\u5219",id:"prometheus-\u544a\u8b66\u89c4\u5219",level:3},{value:"\u707e\u96be\u6062\u590d",id:"\u707e\u96be\u6062\u590d",level:2},{value:"\u5907\u4efd\u7b56\u7565",id:"\u5907\u4efd\u7b56\u7565",level:3},{value:"\u6062\u590d\u6b65\u9aa4",id:"\u6062\u590d\u6b65\u9aa4",level:3},{value:"RTO/RPO",id:"rtorpo",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u90e8\u7f72\u68c0\u67e5\u6e05\u5355",id:"\u90e8\u7f72\u68c0\u67e5\u6e05\u5355",level:3},{value:"\u5bb9\u91cf\u89c4\u5212",id:"\u5bb9\u91cf\u89c4\u5212",level:3},{value:"\u5b9a\u671f\u6f14\u7ec3",id:"\u5b9a\u671f\u6f14\u7ec3",level:3},{value:"\u4e0b\u4e00\u6b65",id:"\u4e0b\u4e00\u6b65",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u9ad8\u53ef\u7528\u90e8\u7f72",children:"\u9ad8\u53ef\u7528\u90e8\u7f72"})}),"\n",(0,l.jsx)(n.p,{children:"\u672c\u6587\u6863\u4ecb\u7ecd\u5982\u4f55\u90e8\u7f72\u9ad8\u53ef\u7528\u7684 KubePolaris \u96c6\u7fa4\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u67b6\u6784\u8bbe\u8ba1",children:"\u67b6\u6784\u8bbe\u8ba1"}),"\n",(0,l.jsx)(n.h3,{id:"\u9ad8\u53ef\u7528\u7ec4\u4ef6",children:"\u9ad8\u53ef\u7528\u7ec4\u4ef6"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7ec4\u4ef6"}),(0,l.jsx)(n.th,{children:"HA \u7b56\u7565"}),(0,l.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Backend"}),(0,l.jsx)(n.td,{children:"\u591a\u526f\u672c"}),(0,l.jsx)(n.td,{children:"\u65e0\u72b6\u6001\uff0c\u53ef\u6c34\u5e73\u6269\u5c55"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Frontend"}),(0,l.jsx)(n.td,{children:"\u591a\u526f\u672c"}),(0,l.jsx)(n.td,{children:"\u65e0\u72b6\u6001\uff0c\u53ef\u6c34\u5e73\u6269\u5c55"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"MySQL"}),(0,l.jsx)(n.td,{children:"\u4e3b\u4ece\u590d\u5236"}),(0,l.jsx)(n.td,{children:"\u5efa\u8bae\u4f7f\u7528\u4e91\u6570\u636e\u5e93"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u8d1f\u8f7d\u5747\u8861"}),(0,l.jsx)(n.td,{children:"\u591a\u8282\u70b9"}),(0,l.jsx)(n.td,{children:"\u5bf9\u5916\u5165\u53e3"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"\u63a8\u8350\u914d\u7f6e",children:"\u63a8\u8350\u914d\u7f6e"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u89c4\u6a21"}),(0,l.jsx)(n.th,{children:"Backend \u526f\u672c"}),(0,l.jsx)(n.th,{children:"Frontend \u526f\u672c"}),(0,l.jsx)(n.th,{children:"\u6570\u636e\u5e93"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5c0f\u578b"}),(0,l.jsx)(n.td,{children:"2"}),(0,l.jsx)(n.td,{children:"2"}),(0,l.jsx)(n.td,{children:"\u4e3b\u4ece"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u4e2d\u578b"}),(0,l.jsx)(n.td,{children:"3"}),(0,l.jsx)(n.td,{children:"3"}),(0,l.jsx)(n.td,{children:"\u4e91 RDS"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5927\u578b"}),(0,l.jsx)(n.td,{children:"5+"}),(0,l.jsx)(n.td,{children:"3+"}),(0,l.jsx)(n.td,{children:"\u4e91 RDS + \u8bfb\u5199\u5206\u79bb"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"kubernetes-\u90e8\u7f72",children:"Kubernetes \u90e8\u7f72"}),"\n",(0,l.jsx)(n.h3,{id:"valuesyaml-\u914d\u7f6e",children:"values.yaml \u914d\u7f6e"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="values-ha.yaml"',children:'# \u540e\u7aef\u914d\u7f6e\nbackend:\n  replicaCount: 3\n  \n  resources:\n    limits:\n      cpu: 4000m\n      memory: 4Gi\n    requests:\n      cpu: 1000m\n      memory: 1Gi\n\n  # Pod \u53cd\u4eb2\u548c\u6027\n  affinity:\n    podAntiAffinity:\n      requiredDuringSchedulingIgnoredDuringExecution:\n        - labelSelector:\n            matchLabels:\n              app.kubernetes.io/component: backend\n          topologyKey: kubernetes.io/hostname\n\n  # \u62d3\u6251\u5206\u5e03\u7ea6\u675f\n  topologySpreadConstraints:\n    - maxSkew: 1\n      topologyKey: topology.kubernetes.io/zone\n      whenUnsatisfiable: ScheduleAnyway\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: backend\n\n# \u524d\u7aef\u914d\u7f6e\nfrontend:\n  replicaCount: 3\n  \n  affinity:\n    podAntiAffinity:\n      preferredDuringSchedulingIgnoredDuringExecution:\n        - weight: 100\n          podAffinityTerm:\n            labelSelector:\n              matchLabels:\n                app.kubernetes.io/component: frontend\n            topologyKey: kubernetes.io/hostname\n\n# \u4f7f\u7528\u5916\u90e8\u6570\u636e\u5e93\nmysql:\n  internal:\n    enabled: false\n  external:\n    enabled: true\n    host: mysql.example.com\n    port: 3306\n    database: kubepolaris\n    username: kubepolaris\n    existingSecret: kubepolaris-mysql-secret\n\n# Ingress \u914d\u7f6e\ningress:\n  enabled: true\n  className: nginx\n  annotations:\n    nginx.ingress.kubernetes.io/affinity: "cookie"\n    nginx.ingress.kubernetes.io/session-cookie-name: "route"\n    nginx.ingress.kubernetes.io/session-cookie-max-age: "3600"\n  hosts:\n    - host: kubepolaris.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: kubepolaris-tls\n      hosts:\n        - kubepolaris.example.com\n\n# PDB \u914d\u7f6e\npodDisruptionBudget:\n  enabled: true\n  minAvailable: 2\n\n# HPA \u914d\u7f6e\nautoscaling:\n  enabled: true\n  minReplicas: 3\n  maxReplicas: 10\n  targetCPUUtilizationPercentage: 70\n  targetMemoryUtilizationPercentage: 80\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u90e8\u7f72\u547d\u4ee4",children:"\u90e8\u7f72\u547d\u4ee4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"helm install kubepolaris kubepolaris/kubepolaris \\\n  -f values-ha.yaml \\\n  -n kubepolaris \\\n  --create-namespace\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u6570\u636e\u5e93\u9ad8\u53ef\u7528",children:"\u6570\u636e\u5e93\u9ad8\u53ef\u7528"}),"\n",(0,l.jsx)(n.h3,{id:"\u4e91\u6570\u636e\u5e93",children:"\u4e91\u6570\u636e\u5e93"}),"\n",(0,l.jsx)(n.p,{children:"\u63a8\u8350\u4f7f\u7528\u4e91\u5382\u5546\u7684\u6258\u7ba1\u6570\u636e\u5e93\u670d\u52a1\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u963f\u91cc\u4e91 RDS"}),": \u652f\u6301\u4e3b\u5907\u5b9e\u4f8b\u3001\u8bfb\u5199\u5206\u79bb"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"AWS RDS"}),": Multi-AZ \u90e8\u7f72"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u817e\u8baf\u4e91 MySQL"}),": \u652f\u6301\u4e3b\u4ece\u540c\u6b65"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u81ea\u5efa-mysql-ha",children:"\u81ea\u5efa MySQL HA"}),"\n",(0,l.jsx)(n.p,{children:"\u4f7f\u7528 MySQL InnoDB Cluster \u6216 Galera Cluster\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="mysql-cluster-values.yaml"',children:"# \u4f7f\u7528 MySQL Operator\narchitecture: group-replication\ngroupReplication:\n  enabled: true\n  secondary:\n    replicaCount: 2\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8fde\u63a5\u6c60\u914d\u7f6e",children:"\u8fde\u63a5\u6c60\u914d\u7f6e"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"database:\n  max_idle_conns: 20\n  max_open_conns: 200\n  conn_max_lifetime: 3600\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u8d1f\u8f7d\u5747\u8861",children:"\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,l.jsx)(n.h3,{id:"kubernetes-ingress",children:"Kubernetes Ingress"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: kubepolaris\n  annotations:\n    nginx.ingress.kubernetes.io/proxy-body-size: "100m"\n    nginx.ingress.kubernetes.io/proxy-read-timeout: "300"\n    nginx.ingress.kubernetes.io/proxy-send-timeout: "300"\n    # WebSocket \u652f\u6301\n    nginx.ingress.kubernetes.io/proxy-connect-timeout: "3600"\n    nginx.ingress.kubernetes.io/websocket-services: "kubepolaris-backend"\nspec:\n  ingressClassName: nginx\n  tls:\n    - hosts:\n        - kubepolaris.example.com\n      secretName: kubepolaris-tls\n  rules:\n    - host: kubepolaris.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: kubepolaris-frontend\n                port:\n                  number: 80\n          - path: /api\n            pathType: Prefix\n            backend:\n              service:\n                name: kubepolaris-backend\n                port:\n                  number: 8080\n          - path: /ws\n            pathType: Prefix\n            backend:\n              service:\n                name: kubepolaris-backend\n                port:\n                  number: 8080\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5916\u90e8\u8d1f\u8f7d\u5747\u8861",children:"\u5916\u90e8\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,l.jsx)(n.p,{children:"\u914d\u7f6e\u4e91\u8d1f\u8f7d\u5747\u8861\u5668\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Service\nmetadata:\n  name: kubepolaris-lb\n  annotations:\n    service.beta.kubernetes.io/aws-load-balancer-type: "nlb"\n    service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing"\nspec:\n  type: LoadBalancer\n  ports:\n    - port: 443\n      targetPort: 8080\n  selector:\n    app: kubepolaris\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u4f1a\u8bdd\u7ba1\u7406",children:"\u4f1a\u8bdd\u7ba1\u7406"}),"\n",(0,l.jsx)(n.h3,{id:"websocket-\u4f1a\u8bdd",children:"WebSocket \u4f1a\u8bdd"}),"\n",(0,l.jsx)(n.p,{children:"WebSocket \u8fde\u63a5\u9700\u8981\u4f1a\u8bdd\u4fdd\u6301\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'# Ingress \u4f1a\u8bdd\u4fdd\u6301\nnginx.ingress.kubernetes.io/affinity: "cookie"\nnginx.ingress.kubernetes.io/session-cookie-hash: "sha1"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"jwt-token",children:"JWT Token"}),"\n",(0,l.jsx)(n.p,{children:"\u4f7f\u7528\u76f8\u540c\u7684 JWT Secret \u786e\u4fdd\u6240\u6709\u5b9e\u4f8b\u53ef\u4ee5\u9a8c\u8bc1 Token\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# \u6240\u6709\u5b9e\u4f8b\u4f7f\u7528\u76f8\u540c\u7684 JWT Secret\nsecurity:\n  jwtSecret: your-shared-secret\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u5065\u5eb7\u68c0\u67e5",children:"\u5065\u5eb7\u68c0\u67e5"}),"\n",(0,l.jsx)(n.h3,{id:"kubernetes-\u63a2\u9488",children:"Kubernetes \u63a2\u9488"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"livenessProbe:\n  httpGet:\n    path: /api/health\n    port: 8080\n  initialDelaySeconds: 30\n  periodSeconds: 10\n  timeoutSeconds: 5\n  failureThreshold: 3\n\nreadinessProbe:\n  httpGet:\n    path: /api/health/ready\n    port: 8080\n  initialDelaySeconds: 10\n  periodSeconds: 5\n  timeoutSeconds: 3\n  failureThreshold: 3\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u5065\u5eb7\u68c0\u67e5\u7aef\u70b9",children:"\u5065\u5eb7\u68c0\u67e5\u7aef\u70b9"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'GET /api/health\n{\n  "status": "healthy",\n  "database": "connected",\n  "uptime": "10h30m"\n}\n\nGET /api/health/ready\n{\n  "ready": true\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u76d1\u63a7\u544a\u8b66",children:"\u76d1\u63a7\u544a\u8b66"}),"\n",(0,l.jsx)(n.h3,{id:"\u5173\u952e\u6307\u6807",children:"\u5173\u952e\u6307\u6807"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u6307\u6807"}),(0,l.jsx)(n.th,{children:"\u544a\u8b66\u6761\u4ef6"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u526f\u672c\u6570"}),(0,l.jsx)(n.td,{children:"< \u671f\u671b\u503c"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"CPU \u4f7f\u7528\u7387"}),(0,l.jsx)(n.td,{children:"> 80%"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5185\u5b58\u4f7f\u7528\u7387"}),(0,l.jsx)(n.td,{children:"> 85%"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"API \u5ef6\u8fdf"}),(0,l.jsx)(n.td,{children:"P99 > 1s"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u6570\u636e\u5e93\u8fde\u63a5"}),(0,l.jsx)(n.td,{children:"\u5931\u8d25"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u8bc1\u4e66\u8fc7\u671f"}),(0,l.jsx)(n.td,{children:"< 30 \u5929"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"prometheus-\u544a\u8b66\u89c4\u5219",children:"Prometheus \u544a\u8b66\u89c4\u5219"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'groups:\n  - name: kubepolaris\n    rules:\n      - alert: KubePolarisDown\n        expr: up{job="kubepolaris"} == 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: "KubePolaris instance down"\n\n      - alert: KubePolarisHighLatency\n        expr: histogram_quantile(0.99, rate(http_request_duration_seconds_bucket{job="kubepolaris"}[5m])) > 1\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: "High API latency"\n\n      - alert: KubePolarisReplicasLow\n        expr: kube_deployment_status_replicas_available{deployment="kubepolaris"} < 2\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: "Low replica count"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u707e\u96be\u6062\u590d",children:"\u707e\u96be\u6062\u590d"}),"\n",(0,l.jsx)(n.h3,{id:"\u5907\u4efd\u7b56\u7565",children:"\u5907\u4efd\u7b56\u7565"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u6bcf\u65e5\u5168\u91cf\u5907\u4efd\n0 2 * * * /scripts/backup-full.sh\n\n# \u6bcf\u5c0f\u65f6\u589e\u91cf\u5907\u4efd\n0 * * * * /scripts/backup-incremental.sh\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u6062\u590d\u6b65\u9aa4",children:"\u6062\u590d\u6b65\u9aa4"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u51c6\u5907\u65b0\u73af\u5883"}),"\n",(0,l.jsx)(n.li,{children:"\u6062\u590d\u6570\u636e\u5e93"}),"\n",(0,l.jsx)(n.li,{children:"\u90e8\u7f72\u5e94\u7528"}),"\n",(0,l.jsx)(n.li,{children:"\u9a8c\u8bc1\u529f\u80fd"}),"\n",(0,l.jsx)(n.li,{children:"\u5207\u6362\u6d41\u91cf"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"rtorpo",children:"RTO/RPO"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u6307\u6807"}),(0,l.jsx)(n.th,{children:"\u76ee\u6807"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"RTO (\u6062\u590d\u65f6\u95f4)"}),(0,l.jsx)(n.td,{children:"< 30 \u5206\u949f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"RPO (\u6570\u636e\u4e22\u5931)"}),(0,l.jsx)(n.td,{children:"< 1 \u5c0f\u65f6"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,l.jsx)(n.h3,{id:"\u90e8\u7f72\u68c0\u67e5\u6e05\u5355",children:"\u90e8\u7f72\u68c0\u67e5\u6e05\u5355"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u591a\u526f\u672c\u90e8\u7f72"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Pod \u53cd\u4eb2\u548c\u6027\u914d\u7f6e"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u6570\u636e\u5e93 HA \u914d\u7f6e"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","SSL/TLS \u8bc1\u4e66"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5065\u5eb7\u68c0\u67e5\u914d\u7f6e"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","PDB \u914d\u7f6e"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u5907\u4efd\u7b56\u7565"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u76d1\u63a7\u544a\u8b66"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5bb9\u91cf\u89c4\u5212",children:"\u5bb9\u91cf\u89c4\u5212"}),"\n",(0,l.jsx)(n.p,{children:"\u5b9a\u671f\u8bc4\u4f30\u8d44\u6e90\u4f7f\u7528\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7ba1\u7406\u96c6\u7fa4\u6570\u91cf\u589e\u957f"}),"\n",(0,l.jsx)(n.li,{children:"API \u8bf7\u6c42\u589e\u957f"}),"\n",(0,l.jsx)(n.li,{children:"WebSocket \u8fde\u63a5\u6570"}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u5e93\u5b58\u50a8"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5b9a\u671f\u6f14\u7ec3",children:"\u5b9a\u671f\u6f14\u7ec3"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6545\u969c\u8f6c\u79fb\u6f14\u7ec3"}),"\n",(0,l.jsx)(n.li,{children:"\u6062\u590d\u6f14\u7ec3"}),"\n",(0,l.jsx)(n.li,{children:"\u6269\u5bb9\u6f14\u7ec3"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u4e0b\u4e00\u6b65",children:"\u4e0b\u4e00\u6b65"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./security",children:"\u5b89\u5168\u52a0\u56fa"})," - \u5b89\u5168\u914d\u7f6e"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./backup-restore",children:"\u5907\u4efd\u6062\u590d"})," - \u5907\u4efd\u7b56\u7565"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>a});var i=s(6540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);