# 集群详情页面原型设计

## 页面布局

```
┌─────────────────────────────────────────────────────────────────┐
│ Header: K8s管理平台 | 全局搜索框 | 用户头像▼                      │
├─────────────────────────────────────────────────────────────────┤
│ Sidebar │ Content Area                                          │
│ ├集群管理 │ ┌─────────────────────────────────────────────────┐ │
│ │├集群列表 │ │ 集群管理 > prod-k8s                             │ │
│ │└导入集群 │ │                                                 │ │
│ ├节点管理 │ │ ┌─────────────────────────────────────────────┐ │ │
│ ├工作负载 │ │ │ 🟢 prod-k8s (v1.28.2)    ┌──────────────┐ │ │ │
│ ├Pod管理  │ │ │ 生产环境集群              │🖥️ Web终端    │ │ │ │
│ ├全局搜索 │ │ │ 最后更新: 2分钟前         │⚙️ 集群配置    │ │ │ │
│ └审计日志 │ │ │                          │📊 监控面板    │ │ │ │
│          │ │ └─────────────────────────────────────────────┘ │ │
│          │ │                                                 │ │
│          │ │ ┌─── Tabs ───────────────────────────────────┐ │ │
│          │ │ │ 概览 │ 节点 │ 工作负载 │ 存储 │ 网络 │ 事件 │ │ │ │
│          │ │ └─────────────────────────────────────────────┘ │ │
│          │ │                                                 │ │
│          │ │ ┌─────────────────────────────────────────────┐ │ │
│          │ │ │ 集群概览                                     │ │ │
│          │ │ │ ┌─────────┐ ┌─────────┐ ┌─────────┐        │ │ │
│          │ │ │ │节点状态  │ │Pod状态   │ │命名空间  │        │ │ │
│          │ │ │ │5/5 就绪 │ │128/130  │ │12个     │        │ │ │
│          │ │ │ │🟢🟢🟢🟢🟢│ │运行正常  │ │活跃     │        │ │ │
│          │ │ │ └─────────┘ └─────────┘ └─────────┘        │ │ │
│          │ │ │                                             │ │ │
│          │ │ │ ┌─────────────────────────────────────────┐ │ │ │
│          │ │ │ │ 资源使用情况                             │ │ │ │
│          │ │ │ │ CPU: ████████░░ 65%  内存: ██████░░░░ 45%│ │ │ │
│          │ │ │ │ 存储: ███░░░░░░░ 23%  网络: ████░░░░░░ 32%│ │ │ │
│          │ │ │ └─────────────────────────────────────────┘ │ │ │
│          │ │ └─────────────────────────────────────────────┘ │ │
│          │ └─────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 功能模块

### 1. 集群基本信息卡片
- **集群名称**: 显眼的标题
- **状态指示器**: 彩色圆点 + 状态文字
- **版本信息**: K8s版本号
- **描述信息**: 集群用途说明
- **最后更新时间**: 相对时间显示

### 2. 快捷操作按钮
- **Web终端**: 打开集群终端
- **集群配置**: 编辑集群设置
- **监控面板**: 跳转到监控页面

### 3. 标签页导航
- **概览**: 集群整体状态和资源使用
- **节点**: 节点列表和管理
- **工作负载**: Deployment、Service等
- **存储**: PV、PVC、StorageClass
- **网络**: Service、Ingress、NetworkPolicy
- **事件**: 集群事件日志

### 4. 概览页面内容

#### 4.1 状态统计卡片
```
┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│ 节点状态     │ │ Pod状态      │ │ 命名空间     │ │ 工作负载     │
│ 5/5 就绪    │ │ 128/130     │ │ 12个活跃    │ │ 45个运行    │
│ 🟢🟢🟢🟢🟢   │ │ 运行正常     │ │ 2个系统     │ │ 3个异常     │
└─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘
```

#### 4.2 资源使用图表
- **CPU使用率**: 进度条 + 百分比
- **内存使用率**: 进度条 + 百分比  
- **存储使用率**: 进度条 + 百分比
- **网络流量**: 进度条 + 速率

#### 4.3 监控图表区域
```
┌─────────────────────────────────────────────────────────────┐
│ 资源监控 (最近24小时)          ┌─────────┐ ┌─────────┐      │
│                               │ 1小时   │ │ 刷新    │      │
│ ┌─────────────┐ ┌─────────────┐└─────────┘ └─────────┘      │
│ │ CPU使用率    │ │ 内存使用率   │                           │
│ │    ╭─╮      │ │     ╭──╮    │                           │
│ │   ╱   ╲     │ │    ╱    ╲   │                           │
│ │  ╱     ╲    │ │   ╱      ╲  │                           │
│ │ ╱       ╲   │ │  ╱        ╲ │                           │
│ └─────────────┘ └─────────────┘                           │
│ ┌─────────────┐ ┌─────────────┐                           │
│ │ 网络流量     │ │ 存储IOPS    │                           │
│ │   ╱╲ ╱╲     │ │    ╱─╲      │                           │
│ │  ╱  ╲╱  ╲   │ │   ╱   ╲     │                           │
│ │ ╱        ╲  │ │  ╱     ╲    │                           │
│ │╱          ╲ │ │ ╱       ╲   │                           │
│ └─────────────┘ └─────────────┘                           │
└─────────────────────────────────────────────────────────────┘
```

#### 4.4 最近事件列表
```
┌─────────────────────────────────────────────────────────────┐
│ 最近事件                                                     │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 🟢 Normal   Pod/nginx-xxx 成功调度到 node-1    2分钟前  │ │
│ │ 🟡 Warning  Node/node-2 磁盘空间不足           5分钟前  │ │
│ │ 🟢 Normal   Service/api-service 创建成功       10分钟前 │ │
│ │ 🔴 Error    Pod/mysql-xxx 启动失败            15分钟前 │ │
│ └─────────────────────────────────────────────────────────┘ │
│ 查看全部事件 →                                              │
└─────────────────────────────────────────────────────────────┘
```

## Ant Design 组件映射

```jsx
<PageContainer
  header={{
    title: 'prod-k8s',
    subTitle: 'v1.28.2',
    tags: [<Tag color="green">正常运行</Tag>],
    extra: [
      <Button icon={<TerminalOutlined />}>Web终端</Button>,
      <Button icon={<SettingOutlined />}>集群配置</Button>,
      <Button icon={<BarChartOutlined />}>监控面板</Button>
    ]
  }}
>
  <Tabs defaultActiveKey="overview">
    <TabPane tab="概览" key="overview">
      <Row gutter={16}>
        <Col span={6}>
          <Statistic title="节点状态" value="5/5" suffix="就绪" />
        </Col>
        <Col span={6}>
          <Statistic title="Pod状态" value="128/130" suffix="运行" />
        </Col>
        <Col span={6}>
          <Statistic title="命名空间" value={12} suffix="个" />
        </Col>
        <Col span={6}>
          <Statistic title="工作负载" value={45} suffix="个" />
        </Col>
      </Row>
      
      <Card title="资源使用情况">
        <Progress percent={65} status="active" />
        <Progress percent={45} status="normal" />
      </Card>
      
      <Card title="监控图表">
        {/* 图表组件 */}
      </Card>
    </TabPane>
  </Tabs>
</PageContainer>
```

## 数据结构

```typescript
interface ClusterDetail {
  id: string;
  name: string;
  status: ClusterStatus;
  version: string;
  description?: string;
  lastUpdated: string;
  
  // 统计信息
  stats: {
    nodes: {
      total: number;
      ready: number;
    };
    pods: {
      total: number;
      running: number;
      pending: number;
      failed: number;
    };
    namespaces: {
      total: number;
      active: number;
    };
    workloads: {
      total: number;
      healthy: number;
      unhealthy: number;
    };
  };
  
  // 资源使用
  resources: {
    cpu: ResourceUsage;
    memory: ResourceUsage;
    storage: ResourceUsage;
    network: NetworkUsage;
  };
  
  // 最近事件
  recentEvents: K8sEvent[];
}